<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Webhook Tools</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    input, textarea { background-color: #1f2937; color: white; }
    ::placeholder { color: #9ca3af; }
  </style>
</head>
<body class="bg-gray-900 text-white">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="w-64 bg-gray-800 p-4 flex flex-col space-y-4">
      <h1 class="text-2xl font-bold mb-6">Webhook Tools</h1>
      <nav class="flex flex-col space-y-2">
        <button onclick="showPage('webhook')" class="text-left hover:bg-gray-700 p-2 rounded">Webhook Sender</button>
        <button onclick="alert('Coming soon!')" class="text-left hover:bg-gray-700 p-2 rounded">Embed Builder</button>
        <button onclick="alert('Coming soon!')" class="text-left hover:bg-gray-700 p-2 rounded">Message Preview</button>
      </nav>
    </aside>

    <!-- Main content -->
    <main class="flex-1 p-6">
      <!-- Webhook Sender -->
      <section id="webhook" class="space-y-4">
        <h2 class="text-xl font-bold">Webhook Sender</h2>

        <input id="webhookUrl" type="text" placeholder="Webhook URL" class="w-full p-2 rounded" />
        <input id="username" type="text" placeholder="Username (optional)" class="w-full p-2 rounded" />
        <textarea id="message" placeholder="Message" class="w-full p-2 rounded h-32"></textarea>
        <input id="avatar" type="text" placeholder="Avatar URL (optional)" class="w-full p-2 rounded" />
        
        <button onclick="sendWebhook()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">
          Send Message
        </button>

        <div id="status" class="mt-2 text-sm text-green-400"></div>
      </section>
    </main>
  </div>

  <!-- JavaScript -->
  <script>
    function showPage(page) {
      document.getElementById("webhook").style.display = page === 'webhook' ? 'block' : 'none';
    }

    async function sendWebhook() {
      const url = document.getElementById('webhookUrl').value;
      const content = document.getElementById('message').value;
      const username = document.getElementById('username').value;
      const avatar = document.getElementById('avatar').value;

      if (!url || !content) {
        alert("Webhook URL and message are required.");
        return;
      }

      const payload = {
        content: content,
        ...(username && { username }),
        ...(avatar && { avatar_url: avatar })
      };

      try {
        const res = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        if (res.ok) {
          document.getElementById('status').textContent = "✅ Message sent!";
        } else {
          document.getElementById('status').textContent = "❌ Error: " + res.statusText;
        }
      } catch (err) {
        document.getElementById('status').textContent = "❌ Network Error.";
      }
    }

    // Show the default page
    showPage('webhook');
  </script>
</body>
</html>
